


<!doctype html>
<html lang="en" class="no-js">
  <head>
    


<meta charset="utf-8">




<!-- begin SEO -->









<title>Open, Plot and Explore Lidar Data in Raster Format with Python | Earth Data Science - Earth Lab </title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Earth Data Science - Earth Lab">
<meta property="og:title" content="Open, Plot and Explore Lidar Data in Raster Format with Python">


  <link rel="canonical" href="http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/">
  <meta property="og:url" content="http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/">



  <meta content="This lesson introduces the raster geotiff file format - which is often used to store lidar raster data. You will learn the 3 key spatial attributes of a raster dataset including Coordinate reference system, spatial extent and resolution." name="description">
  <meta property="og:description" content="This lesson introduces the raster geotiff file format - which is often used to store lidar raster data. You will learn the 3 key spatial attributes of a raster dataset including Coordinate reference system, spatial extent and resolution.">


<!-- twitter cards -->

  <meta name="twitter:site" content="@earthlabcu">
  <meta name="twitter:title" content="Open, Plot and Explore Lidar Data in Raster Format with Python">
  <meta name="twitter:description" content="This lesson introduces the raster geotiff file format - which is often used to store lidar raster data. You will learn the 3 key spatial attributes of a raster dataset including Coordinate reference system, spatial extent and resolution.">
  <meta name="twitter:url" content="http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/">

  
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://earthdatascience.org/images/earth_sm_twit.png">
    <meta name="twitter:image:alt" content="The Earthlab Logo - image of a globe with courses, lessons and tutorials">

    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2018-07-20T00:00:00-06:00">
  
    <link rel="next" href="http://localhost:8000/workshops/gis-open-source-python/subtract-rasters-in-open-source-python/" title="Subtract Raster Data in Python Using Numpy and Rasterio">
  
  
    <link rel="prev" href="http://localhost:8000/workshops/gis-open-source-python/" title="Get Started With GIS in Open Source Python - Geopandas, Rasterio &amp; Matplotlib">
  





  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Earth Analytics",
      "url" : "http://localhost:8000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:8000/feed.xml" type="application/atom+xml" rel="alternate" title="Earth Data Science - Earth Lab Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="google-site-verification" content="LfpevjsE0wlELv5KKOZv1T2RhRimGSiRckWv5ZC19GU" />
<!-- don't use the old cataloged meta tags -->
<meta name="googlebot" content="noodp">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>


<!-- For all browsers
<link rel="stylesheet" href="http://localhost:8000/assets/css/main.css">-->
<link rel="stylesheet" href="http://localhost:8000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>


    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<!-- search bar begin  - turning off for now-->

<div class="search">
<form role="search" method="get" action="http://localhost:8000/search/">
    <input id="q" name="q"
           placeholder="Search earth data science site" type="text">
</form>
<!--<span class='cu-boulder'><a href="http://www.colorado.edu/earthlab" target="_blank">Earth Lab University of Colorado - Boulder Home </a></span> -->
</div>


<!-- search bar END -->

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:8000/"><img src="/images/earth_sm.png" alt="Earth Lab - Earth Data Science" style="height:80%;width:85%"></a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/tutorials/">Tutorials</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/courses/">Courses</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/workshops/">Workshops</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/tools/">Tools</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/events/">Events</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:8000/about/">About</a></li>
          

        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    











  
    










<nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs">
 <ol itemscope itemtype="http://schema.org/BreadcrumbList">
<a href="http://localhost:8000"></a>
 
 <!-- there is an offset of 1 so subtract 2 from the final crumb number-->
 
   
   
     <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
       <a href="http://localhost:8000/" itemprop="item"><span itemprop="name">Home</span></a>
       <meta itemprop="position" content="" />
     </li>
     <span class="sep">/</span>
   
    
        <li><a href="http://localhost:8000/workshops/">Workshops </a>
        <span class="sep">/</span></li>
    
  
   
    
        <li><a href="http://localhost:8000/workshops/gis-open-source-python/">  Gis open source python </a>
        <span class="sep">/</span></li>
    
  
   
    
        <li class="current">Open, Plot and Explore Lidar Data in Raster Format with Python</li>
    
  
</ol>
</nav>

  


<div id="main" role="main">
  



  <div class="sidebar sticky">
  
  
    
      
      
      
    
    


    

    

    
    <!--  If it's not attached to a class, just show the lessons and slides-->
      

<nav class="nav__list">
  <ul>
    <li><span class="nav__sub-title"><i class="fa fa-book" aria-hidden="true"></i>  Lessons</span>
      <ul>
        

        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/>1. Spatial Data Workshop Overview</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/ class='active'>2. Open Raster Data Python</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/subtract-rasters-in-open-source-python/>3. Subtract Rasters / Raster Math</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/intro-vector-data-python/>4. Vector Data in Python</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/reproject-vector-data-in-python/>5. Reproject Vector Data</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/dissolve-polygons-in-python-geopandas-shapely/>6. Dissolve Polygons</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            <li><a href= http://localhost:8000/workshops/gis-open-source-python/crop-raster-data-in-python/>7. Crop a Raster</a></li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </li>
  </ul>
<!-- slide list will only render if there are slideshows associated with a lesson series -->
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
              </ul>
            </li>
          </ul>
          
        
<!-- end slideshows  -->
</nav>



    

  
  </div>






<!-- begin science / science themes side bar nav -->



  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">

    <meta itemprop="headline" content="Open, Plot and Explore Lidar Data in Raster Format with Python">
    <meta itemprop="description" content="This lesson introduces the raster geotiff file format - which is often used to store lidar raster data. You will learn the 3 key spatial attributes of a raster dataset including Coordinate reference system, spatial extent and resolution.">
    <meta itemprop="datePublished" content="July 20, 2018">
    <meta itemprop="dateModified" content="July 19, 2018">

    <div class="page__inner-wrap">
      

        <header>
          <!-- BEGIN: insert a welcome to the module block on pages that are part of a module set -->

          <!-- END: insert welcome block -->
          <h1 class="page__title" itemprop="headline">
            Lesson 2. 
             Open, Plot and Explore Lidar Data in Raster Format with Python
 </h1>
             Spatial data open source python Workshop 
          

          
            <div class="page__meta">
              
              
              <a href="http://localhost:8000/authors/leah-wasser">Leah Wasser</a>, 
              
              
              <a href="http://localhost:8000/authors/joe-mcglinchy">Joe McGlinchy</a>, 
              
              
              <a href="http://localhost:8000/authors/chris-holdgraf">Chris Holdgraf</a>, 
              
              
              <a href="http://localhost:8000/authors/martha-morrissey">Martha Morrissey</a>
              
            </div>
          

        <br/>

        

          
        </header>
      

      <section class="page__content" itemprop="text">
        <!-- would like to include the TOC automatically but this does weird things-->
        
        <aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> In This Lesson</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#learning-objectives" id="markdown-toc-learning-objectives"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives</a></li>
  <li><a href="#what-you-need" id="markdown-toc-what-you-need"><i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What You Need</a></li>
  <li><a href="#what-is-a-raster" id="markdown-toc-what-is-a-raster">What is a Raster?</a></li>
  <li><a href="#open-raster-data-in-python" id="markdown-toc-open-raster-data-in-python">Open Raster Data in Python</a></li>
  <li><a href="#context-manager-to-openclose-raster-data" id="markdown-toc-context-manager-to-openclose-raster-data">Context Manager to Open/Close Raster Data</a></li>
  <li><a href="#raster-plots-with-matplotlib" id="markdown-toc-raster-plots-with-matplotlib">Raster Plots with Matplotlib</a></li>
  <li><a href="#plot-a-raster-using-rasterio" id="markdown-toc-plot-a-raster-using-rasterio">Plot A Raster Using Rasterio</a></li>
  <li><a href="#on-your-own---challenge" id="markdown-toc-on-your-own---challenge"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> On Your Own - Challenge</a></li>
</ul>

  </nav>
</aside>

<div class="notice--success">

  <h2 id="learning-objectives"><i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives</h2>

  <p>After completing this tutorial, you will be able to:</p>

  <ul>
    <li>Open a lidar raster dataset in <code class="highlighter-rouge">Python</code> using <code class="highlighter-rouge">rasterio</code> and a context manager to handle file connections.</li>
    <li>Be able to identify the resolution of a raster in <code class="highlighter-rouge">Python</code>.</li>
    <li>Be able to plot a lidar raster dataset in <code class="highlighter-rouge">Python</code> using <code class="highlighter-rouge">matplotlib</code>.</li>
  </ul>

  <h2 id="what-you-need"><i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What You Need</h2>

  <p><a href="https://ndownloader.figshare.com/files/12459464" data-proofer-ignore="" class="btn"><i class="fa fa-download" aria-hidden="true"></i> Download spatial-vector-lidar data subset (~172 MB)</a></p>

  <p>You will need a computer with internet access to complete this lesson. If you are following along online and not using our cloud environment:</p>

  <p><a href="http://localhost:8000/workshops/gis-open-source-python/" data-proofer-ignore="" class="btn"><i class="fa fa-download" aria-hidden="true"></i> Get data and software setup instructions here</a></p>

  <p>You will need the Python 3.x Anaconda distribution, git and bash to set things up.</p>

</div>

<p>In this lesson, you will learn how to open a plot a lidar raster dataset in <code class="highlighter-rouge">Python</code>.</p>

<h2 id="what-is-a-raster">What is a Raster?</h2>

<p>Raster or “gridded” data are stored as a grid of values which are rendered on a
map as pixels. Each pixel value represents an area on the Earth’s surface. A raster file is a composed of regular grid of cells, all of which are the same size. You’ve looked at and used rasters before if you’ve looked at photographs
or imagery in a tool like Google Earth. However, the raster files that you will work with are different from photographs in that they are spatially referenced. Each pixel represents an area of land on the ground. That area is defined by the spatial <strong>resolution</strong> of the raster.</p>

<figure>
   <a href="http://localhost:8000/images/courses/earth-analytics/raster-data/raster-concept.png" target="_blank">
   <img src="http://localhost:8000/images/courses/earth-analytics/raster-data/raster-concept.png" alt="Raster data concept diagram." /></a>
   <figcaption>A raster is composed of a regular grid of cells. Each cell is the same
   size in the x and y direction. Source: Colin Williams, NEON.
   </figcaption>
</figure>

<h3 id="raster-facts">Raster Facts</h3>

<p>A few notes about rasters:</p>

<ul>
  <li>Each cell is called a pixel.</li>
  <li>And each pixel represents an area on the ground.</li>
  <li>The resolution of the raster represents the area that each pixel represents the area it represents on the ground. So, a 1 meter resolution raster, means that each pixel represents  a 1 m by 1m area on the ground.</li>
</ul>

<p>A raster dataset can have attributes associated with it as well. For instance in a LiDAR derived digital elevation model (DEM), each cell represents an elevation value for that location on the earth. In a LIDAR derived intensity image, each cell represents a LIDAR intensity value or the amount of light energy returned to and recorded by the sensor.</p>

<figure>
   <a href="http://localhost:8000/images/courses/earth-analytics/raster-data/raster-resolution.png" target="_blank">
   <img src="http://localhost:8000/images/courses/earth-analytics/raster-data/raster-resolution.png" alt="Raster data resolution concept diagram." /></a>
   <figcaption>Rasters can be stored at different resolutions. The resolution simply
   represents the size of each pixel cell. Source: Colin Williams, NEON.
   </figcaption>
</figure>

<h2 id="open-raster-data-in-python">Open Raster Data in Python</h2>

<p>You can use the <code class="highlighter-rouge">rasterio</code> library combined with <code class="highlighter-rouge">numpy</code> and <code class="highlighter-rouge">matplotlib</code> to open, manipulate and plot raster data in <code class="highlighter-rouge">Python</code>. To begin you will load a suite of python libraries required to complete this lesson. These libraries are all a part of the <code class="highlighter-rouge">earth-analytics-python</code> environment.</p>

<p>Be sure to set your working directory
<code class="highlighter-rouge">os.chdir("path-to-you-dir-here/earth-analytics/data")</code></p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">rasterio</span> <span class="k">as</span> <span class="n">rio</span>
<span class="kn">from</span> <span class="nn">rasterio.plot</span> <span class="kn">import</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">rasterio.plot</span> <span class="kn">import</span> <span class="n">show_hist</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Polygon</span><span class="p">,</span> <span class="n">mapping</span>
<span class="kn">from</span> <span class="nn">rasterio.mask</span> <span class="kn">import</span> <span class="n">mask</span>
<span class="c"># a package created for this class that will be discussed later in this lesson</span>
<span class="kn">import</span> <span class="nn">earthpy</span> <span class="k">as</span> <span class="n">et</span>
<span class="kn">import</span> <span class="nn">earthpy.spatial</span> <span class="k">as</span> <span class="n">es</span>
<span class="c"># plot inline in the notebook</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ion</span><span class="p">()</span>
<span class="c"># set home directory and download data</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">et</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">HOME</span><span class="p">,</span> <span class="s">'earth-analytics'</span><span class="p">))</span>

</code></pre></div></div>

<p>Next, download the data. This line of code should only be run if you don’t have the data on your computer already!</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># get the data (it should end up in your home/earth-analytics/data directory)</span>
<span class="c"># once you have downloaded the data this will not run again unless you force it to overwrite</span>
<span class="n">et</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"spatial-vector-lidar"</span><span class="p">)</span>

</code></pre></div></div>

<div class="output execute_result highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'C:\\Users\\jomc9287\\earth-analytics\\data\\spatial-vector-lidar\\.'
</code></pre></div></div>

<p>Note that you import the <code class="highlighter-rouge">rasterio</code> library using the alias (or shortname) <code class="highlighter-rouge">rio</code>.
You use the <code class="highlighter-rouge">rio.open("path-to-raster-here")</code> function to open a raster dataset using <code class="highlighter-rouge">rio</code> in <code class="highlighter-rouge">Python</code>.</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># define path to digital terrain model</span>
<span class="n">sjer_dtm_path</span> <span class="o">=</span> <span class="s">"data/spatial-vector-lidar/california/neon-soap-site/2013/lidar/SOAP_lidarDTM.tif"</span>

<span class="c"># open raster data</span>
<span class="n">lidar_dem</span> <span class="o">=</span> <span class="n">rio</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="n">sjer_dtm_path</span><span class="p">)</span>
<span class="c"># optional - view spatial extent</span>
<span class="n">lidar_dem</span><span class="o">.</span><span class="n">bounds</span>
</code></pre></div></div>

<div class="output execute_result highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BoundingBox(left=296906.0, bottom=4100038.0, right=300198.0, top=4101554.0)
</code></pre></div></div>

<p>You can quickly plot the raster using the <code class="highlighter-rouge">rasterio</code> function,  <code class="highlighter-rouge">show()</code>.</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># plot the dem using raster.io</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">lidar_dem</span><span class="p">,</span> 
     <span class="n">title</span><span class="o">=</span><span class="s">"Lidar Digital Elevation Model (DEM) </span><span class="se">\n</span><span class="s"> Boulder Flood 2013"</span><span class="p">,</span> 
     <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_9_0.png" alt="png" /></p>

<h3 id="opening-and-closing-file-connections">Opening and Closing File Connections</h3>

<p>The <code class="highlighter-rouge">rasterio</code> library is efficient as it establishes a connection with the 
raster file rather than directly reading it into memory. Because it creates a 
connection, it is important that you close the connection after it is opened
AND after you’ve finished working with the data!</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># close the file connection</span>
<span class="n">lidar_dem</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># this returns an error as you have closed the connection to the file. 
show(lidar_dem)

---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-7-dad244dfd7d3&gt; in &lt;module&gt;()
      1 # this returns an error as you have closed the connection to the file.
----&gt; 2 show(lidar_dem)

~/anaconda3/envs/earth-analytics-python/lib/python3.6/site-packages/rasterio/plot.py in show(source, with_bounds, contour, contour_label_kws, ax, title, **kwargs)
     80     elif isinstance(source, RasterReader):
     81         if source.count == 1:
---&gt; 82             arr = source.read(1, masked=True)
     83         else:
     84             try:

rasterio/_io.pyx in rasterio._io.RasterReader.read (rasterio/_io.c:10647)()

rasterio/_io.pyx in rasterio._io.RasterReader._read (rasterio/_io.c:15124)()

ValueError: can't read closed raster file

</code></pre></div></div>

<p>Once the connection is closed, you can no longer work with the data. You’ll need 
to re-open the connection. Like this:</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># open raster data connection - again</span>
<span class="n">lidar_dem</span> <span class="o">=</span> <span class="n">rio</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="n">sjer_dtm_path</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">lidar_dem</span><span class="p">,</span> 
     <span class="n">title</span><span class="o">=</span><span class="s">"Once the connection is re-opened </span><span class="se">\n</span><span class="s">you can work with the raster data"</span><span class="p">,</span> 
     <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_14_0.png" alt="png" /></p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lidar_dem</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="context-manager-to-openclose-raster-data">Context Manager to Open/Close Raster Data</h2>

<p>A better way to work with raster data in <code class="highlighter-rouge">rasterio</code> is to use the context manager. This will handle opening and closing the raster file for you.</p>

<p><code class="highlighter-rouge">with rio.open('name of file') as scr:
    src.rasteriofunctionname()</code></p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># view spatial extent of raster object</span>
<span class="k">with</span> <span class="n">rio</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="n">sjer_dtm_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">src</span><span class="o">.</span><span class="n">bounds</span><span class="p">)</span>
</code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>BoundingBox(left=296906.0, bottom=4100038.0, right=300198.0, top=4101554.0)
</code></pre></div></div>

<p>Once you are outside of the <code class="highlighter-rouge">with</code> statement, you can no long access the <code class="highlighter-rouge">src</code> object which contains the spatial raster information.</p>

<h2 id="raster-plots-with-matplotlib">Raster Plots with Matplotlib</h2>

<p>Let’s try this again. Open the same DEM using a context manager. Then let’s plot again but this time using matplotlib imshow. Using <code class="highlighter-rouge">matplotlib</code> allows you to fully customize your plots. Do the following</p>

<ol>
  <li>use .read() to read in your raster data as a numpy array</li>
  <li>set masked = True to ensure that no data values get translated to <code class="highlighter-rouge">nan</code>.</li>
  <li>only read in the first band of your single band image. If you don’t specify <code class="highlighter-rouge">1</code> when you read in a raster you will get a 3 dimensional array.</li>
</ol>

<!-- How carson gets the bounds element # Get the bounds of the raster (for plotting later)
#bounds = lidar_dem.bounds[::2] + lidar_dem.bounds[1::2]
#bounds -->

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># read in all of the data without specifying a band</span>
<span class="k">with</span> <span class="n">rio</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="n">sjer_dtm_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="c"># convert / read the data into a numpy array:</span>
    <span class="n">lidar_dem_im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">masked</span><span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
<span class="c"># view array shape -- notice that you have 3 dimensions below</span>
<span class="k">print</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(1, 1516, 3292)
</code></pre></div></div>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># specify a band so you get a 2 dimensional image array</span>
<span class="k">with</span> <span class="n">rio</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="n">sjer_dtm_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="c"># convert / read the data into a numpy array:</span>
    <span class="n">lidar_dem_im</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">masked</span><span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">sjer_ext</span> <span class="o">=</span> <span class="n">rio</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plotting_extent</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
    
<span class="c"># view array shape -- here you have a 2 dimensional array as you would expect to have</span>
<span class="k">print</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(1516, 3292)
</code></pre></div></div>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sjer_ext</span>
</code></pre></div></div>

<div class="output execute_result highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(296906.0, 300198.0, 4100038.0, 4101554.0)
</code></pre></div></div>

<h2 id="plot-a-raster-using-rasterio">Plot A Raster Using Rasterio</h2>

<p>You are now ready to plot your data using <code class="highlighter-rouge">imshow()</code> and matplotlib.</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
     <span class="n">cmap</span> <span class="o">=</span> <span class="s">'Greys'</span><span class="p">,</span> 
     <span class="n">extent</span> <span class="o">=</span> <span class="n">sjer_ext</span><span class="p">);</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_23_0.png" alt="png" /></p>

<p>If you provide the spatial extent of the raster to the plot, it will be plotted in the correct spatial location.
This is important if you plan to overlay another spatial data layer on top of your raster plot.</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
     <span class="n">cmap</span> <span class="o">=</span> <span class="s">'Greys'</span><span class="p">,</span> 
     <span class="n">extent</span> <span class="o">=</span> <span class="n">sjer_ext</span><span class="p">)</span>
<span class="c"># add a title and adjust the size of the font.</span>
<span class="c"># you can add a title to show() but it's not as easy to define the font size</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Digital Elevation Model - Pre 2013 Flood</span><span class="se">\n</span><span class="s"> Plotted Using the Correct Spatial Extent"</span><span class="p">,</span>
             <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
</code></pre></div></div>

<div class="output execute_result highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Text(0.5,1,'Digital Elevation Model - Pre 2013 Flood\n Plotted Using the Correct Spatial Extent')
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_25_1.png" alt="png" /></p>

<p>Adding a <code class="highlighter-rouge">;</code> at the end of the last line of your plot will 
turn off the message that you might otherwise get from matplotline: <code class="highlighter-rouge">Text(0.5,1,'Digital Elevation Model - Pre 2013 Flood')</code></p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
     <span class="n">cmap</span> <span class="o">=</span> <span class="s">'Greys'</span><span class="p">,</span>
     <span class="n">extent</span> <span class="o">=</span> <span class="n">sjer_ext</span><span class="p">)</span>
<span class="c"># add a title and adjust the size of the font.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Digital Elevation Model - Pre 2013 Flood</span><span class="se">\n</span><span class="s"> Plotted Using the Correct Spatial Extent"</span><span class="p">,</span>
             <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">);</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_27_0.png" alt="png" /></p>

<p>Let’s plot again but this time you will:</p>

<ol>
  <li>add a colorbar using <code class="highlighter-rouge">es.colorbar()</code></li>
  <li>turn off the annoying matplotlib message by adding a semicolon <code class="highlighter-rouge">;</code> to the end of the last line</li>
  <li>turn off the axes given you don’t need the coordinates in your plot</li>
  <li>increase the title font size using the <code class="highlighter-rouge">as.set_title</code> function and the <code class="highlighter-rouge">fontsize</code> argument</li>
</ol>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">lidar_plot</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span>
     <span class="n">cmap</span> <span class="o">=</span> <span class="s">'Greys'</span><span class="p">,</span>
     <span class="n">extent</span> <span class="o">=</span> <span class="n">sjer_ext</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Lidar Digital Elevation Model </span><span class="se">\n</span><span class="s"> Pre 2013 Boulder Flood | Lee Hill Road"</span><span class="p">,</span>
            <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">es</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">lidar_plot</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">();</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_29_0.png" alt="png" /></p>

<p>Below you tweak the height of your colorbar to ensure it lines up with the top and bottom edges of your plot. To do this you use the <code class="highlighter-rouge">make_axes_locatable</code> package from the <code class="highlighter-rouge">mpl_toolkits.axes_grid1</code> library.</p>

<div class="notice--success">

  <h3 id="color-ramps"><i class="fa fa-star"></i> Color Ramps</h3>

  <p>To plot you can select <a href="https://matplotlib.org/users/colormaps.html">pre-determined color ramps</a> from <code class="highlighter-rouge">matplotlib</code>, you can reverse a color ramp by adding <code class="highlighter-rouge">_r</code> at the end of the color ramps name, for example <code class="highlighter-rouge">cmap = 'viridis_r'</code>.</p>

</div>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
               <span class="n">cmap</span><span class="o">=</span><span class="s">'viridis_r'</span><span class="p">,</span>
               <span class="n">extent</span> <span class="o">=</span> <span class="n">sjer_ext</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Digital Elevation Model - Pre 2013 Flood"</span><span class="p">,</span> 
             <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">es</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">();</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_32_0.png" alt="png" /></p>

<h3 id="explore-raster-data-values-with-histograms">Explore Raster Data Values with Histograms</h3>

<p>Next, you will explore a histogram of your data. A histogram is useful to help 
you better understand the distribution of values within your data. In this 
case given you are looking at elevation data, if there are all small elevation values 
and the histogram looks uniform (not too much variation in values) you can assume 
that your study area is relative “flat” - not too hilly. If there is a different
distribution of elevation values you can begin to understand the 
range of elevation values in your study area and the degree of difference between 
low and high regions (ie is it flat or hilly?). Is it high elevation vs 
low elevation?</p>

<p>To plot a histogram use the <code class="highlighter-rouge">rasterio</code> - <code class="highlighter-rouge">show_hist()</code> function.</p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># create histogram of data</span>
<span class="n">show_hist</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
                   <span class="n">facecolor</span> <span class="o">=</span> <span class="s">'purple'</span><span class="p">)</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_34_0.png" alt="png" /></p>

<div class="language-python input highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="c"># create histogram of data</span>
<span class="n">show_hist</span><span class="p">(</span><span class="n">lidar_dem_im</span><span class="p">,</span> 
          <span class="n">facecolor</span> <span class="o">=</span> <span class="s">'purple'</span><span class="p">,</span>
          <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
          <span class="n">bins</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
          <span class="n">title</span> <span class="o">=</span> <span class="s">"Lee Hill Road - Digital Elevation (terrain) Model - </span><span class="se">\n</span><span class="s">Distribution of Elevation Values"</span><span class="p">)</span>
</code></pre></div></div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_35_0.png" alt="png" /></p>

<div class="notice--warning">

  <h2 id="on-your-own---challenge"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> On Your Own - Challenge</h2>

  <p>The file that you opened above was an elevation model representing the elvation of a field site in California. Next, open up and plot the file: <code class="highlighter-rouge">"data/spatial-vector-lidar/california/neon-sjer-site/2013/lidar/SJER_lidarDSM.tif"</code>. If you want, produce a histogram of the data to better understand the range of elevation values in your data.</p>

</div>

<p class="output display_data"><img src="http://localhost:8000//images/workshops/spatial-data-python-intro/2018-07-20-spatial-02-open-lidar-raster-data-python_37_0.png" alt="png" /></p>


        

        <!-- if the page is a course lesson, add pagination -->

        
         <!-- This is clunky code that forces pagination across lesson sets -->
<!-- NOTE: it won't include slideshows as written which makes sense -->
<!-- add forced pagination -->
<!-- first, get total lesson count -->

<div class="previous--next">





<!-- if it's page one - then no previous button -->
<!-- how do i figure out the link? i have to loop through again? -->


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
         <a href="http://localhost:8000/workshops/gis-open-source-python/subtract-rasters-in-open-source-python/" class="btn btn--info btn--large btn-success" style="float:right" >
           Subtract Rasters / Raster Math
           <i class="fa fa-4 fa-arrow-circle-right" aria-hidden="true"></i></a>
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      

      
        
          <a href="http://localhost:8000/workshops/gis-open-source-python/" class="btn btn--info btn--large btn-success">
            <i class="fa fa-4 fa-arrow-circle-left fa-4" aria-hidden="true"></i>
            Spatial Data Workshop Overview </a>
        

        
        
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  
      
    


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  
      
    


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  


    
  
  <!-- ELSE if it's a module -->
  

</div>

        
      </section>

      <footer class="page__meta">
        
        



  






  

  <i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags
  
  <span class="a-main-tag">
  <i class="fa fa-fw fa-tag" aria-hidden="true"></i><a href=http://localhost:8000/tags/reproducible-science-and-programming/>Reproducible science and programming</a>:
  </span>
  
    
    <a href=http://localhost:8000/tags/reproducible-science-and-programming/python/>python</a> 
    
    
  

  <span class="a-main-tag">
  <i class="fa fa-fw fa-tag" aria-hidden="true"></i><a href=http://localhost:8000/tags/spatial-data-and-gis/>Spatial data and gis</a>:
  </span>
  
    
    <a href=http://localhost:8000/tags/spatial-data-and-gis/raster-data/>raster data</a> 
    
    
  










        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-07-19">July 19, 2018</time></p>
        
        <!-- Add license information w/ DOI to the bottom -->
        
  

  

  


      </footer>

      


<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:8000/workshops/gis-open-source-python/open-lidar-raster-python/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
<br><br>
  <a href="http://bit.ly/2jc5SXy" target="_blank">
    <img src="http://localhost:8000/images/earth-data-analytics-professional-certificate-banner.png" alt="Get a professional Certificate in Earth Data Analytics at University of Colorado, Boulder" width="40%"></a>
</section>


       
    </div>

    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          




<div class="grid__item">
  
    <a href="http://localhost:8000/courses/earth-analytics-bootcamp/data-wrangling/data-wrangling-numpy-arrays/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Data Wrangling With Numpy Arrays
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  6 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">This lesson teaches you how to wrangle data (e.g. run multi-task functions, combine) with numpy arrays.
</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="http://localhost:8000/courses/earth-analytics-bootcamp/data-wrangling/data-wrangling-pandas/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Data Wrangling With Pandas
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  12 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">This lesson teaches you how to wrangle data (e.g. subselect, update, and combine) with pandas dataframes.
</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="http://localhost:8000/courses/earth-analytics-bootcamp/prep-final-project/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Prepare For Final Project
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  less than 1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">

     Today

  


</p>
    </article>
  </a>
</div>

        
          




<div class="grid__item">
  
    <a href="http://localhost:8000/courses/earth-analytics-bootcamp/data-wrangling/">
  
    <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
      
      <h2 class="archive__item-title" itemprop="headline">Data Wrangling
</h2>


     
      
        <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  1 minute read
	
</p>
      
      <p class="archive__item-excerpt" itemprop="description">

     Today

  


</p>
    </article>
  </a>
</div>

        
      </div>
    </div>
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->


<!-- Adding analytics code -->

        



<div class="page__footer-follow">
  <ul class="social-icons">
    <li>
      <strong>&copy; 2019 Earth Lab -
      <a href="http://localhost:8000/license"> All materials on this site
        are subject to the CC BY-NC-ND 4.0 License. </a>
      </strong>
    </li>
  </ul>
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/earthlabcu"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/earthlab"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:8000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<!--
<div class="page__footer-copyright">Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
-->

      </footer>
    </div>

    <script src="http://localhost:8000/assets/js/main.min.js"></script>





<script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-84081999-1', 'auto');
    ga('send', 'pageview');
</script>



  </body>
</html>

